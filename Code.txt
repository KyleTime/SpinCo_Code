function followLeft() {
    while (!(motocart.isSidewalkRight())) {
        motocart.rotate(90)
    }
    while (true) {
        motocart.move(1)
        if (!(motocart.isSidewalkRight())) {
            motocart.rotate(90)
        }
        if (motocart.isAtStop()) {
            motocart.pauseAtStopSign()
            if (motocart.canLeftTurn()) {
                for (let index = 0; index <= 6; index++) {
                    motocart.move(1)
                }
                motocart.rotate(-90)
            }
        }
        if (motocart.isSidewalkAhead() && motocart.isSidewalkRight()) {
            motocart.rotate(-90)
        }
    }
}

function followRight() {
    while (!(motocart.isSidewalkRight())) {
        motocart.rotate(90)
    }
    while (true) {
        if (motocart.isAtStop()) {
            motocart.pauseAtStopSign()
            if(motocart.canRightTurn())
            {
                turnRight()
            }
            else if(motocart.canGoStraight())
            {
                goStraight()
            }
            else
            {
                turnLeft()
            }
        }
        else{
            motocart.move(1)
        }
    }
}

function turnRight()
{
    motocart.move(1)
    motocart.rotate(90)
    motocart.move(1)
}

function goStraight()
{
    for (let x = 0; x < 8; x++) {
        motocart.move(1)
    }
}

function turnLeft()
{

}

player.onChat("bat", function () {
    player.say(motocart.batteryLevel())
})
player.onChat("run", function () {
    followRight()
})
